# Simple Math - 1 + 1 = 2
#
# Demonstrates simple arithmetic using Church numerals and
# the new church-to-int operation for human-readable output.

version: '1.1'

chapter:
  id: 002
  title: 'Simple Math'
  mvp_card: 'The Adder'
  pkc_task: 'Perform Simple Addition'

clm:
  abstract_spec:
    context: "Arithmetic is fundamental."
    goal: "Calculate 1 + 1."
    success_criteria: "Result equals 2."

  concrete_impl:
    runtime: lambda
    process: church-to-int
    io_effects:
      enabled: true
      console: true
      format: minimal
    description: |
      1 + 1 = 2
      
      Using Church numerals:
      ONE = λf.λx.f x
      PLUS = λm.λn.λf.λx.m f (n f x)

  balanced_exp:
    expectation: "1 + 1 equals 2."
    test_cases:
      - given: "1 + 1"
        when:
          arguments:
            # PLUS 1 1
            expression: "(\\m.\\n.\\f.\\x.m f (n f x)) (\\f.\\x.f x) (\\f.\\x.f x)"
        then:
          result_contains: "2 (Church:"

examples:
  - name: "1 + 1 = 2"
    description: "Simple addition"
    input:
      expression: "(\\m.\\n.\\f.\\x.m f (n f x)) (\\f.\\x.f x) (\\f.\\x.f x)"
    result_contains: "2 (Church:"

version: "1.0"
chapter:
  id: 8.8.2
  title: P2P Session Summary
clm:
  abstract:
    concept: SessionSummary
    description: "Summarize a P2P chat session into a single MCard"
  concrete:
    manifestation: Summarize Session
    boundary: intrinsic
    runtime: network
    builtin: session_record
    config:
      sessionId: "${params.sessionId}"
      operation: "batch"
      operations:
        - operation: "init"
          initialHeadHash: "${params.headHash}"
        - operation: "summarize"
          keepOriginals: true
  balanced:
    expectation: Summary MCard created
    test_cases:
      - description: "Summarize a test session"
        given: "A session to summarize"
        when:
          params:
            sessionId: "test-summary-session"
            headHash: null
        then:
          success: true

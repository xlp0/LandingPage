version: '1.0'
chapter:
  id: 109
  title: 'Arithmetic: Factorial (Lean 4)'
  mvp_card: The Factorial (Lean)
  pkc_task: Compute n!
clm:
  abstract:
    concept: Recursive Definition
    description: |
      The Principle: n! = n × (n-1)!  with 0! = 1
      This is a classic example of a recursive function with a base case.
    math_model: |
      factorial : ℕ → ℕ
      factorial 0 := 1
      factorial (n+1) := (n+1) * factorial n
  concrete:
    manifestation: Lean 4 Factorial
    description: |
      Lean's termination checker ensures this recursion terminates.
      The type system guarantees we operate on natural numbers.
    runtime: lean
    code_file: lean_factorial.lean
    input_type: mcard
    output_type: mcard
    process_type: custom
  balanced:
    expectation: Factorial Correctness
    description: 'n! computed correctly for small inputs'
    test_cases:
      - given: '{"n": 0}'
        then:
          result: 1
      - given: '{"n": 5}'
        then:
          result: 120
      - given: '{"n": 10}'
        then:
          result: 3628800
    expected_results:
      success: true

# Hello World - The simplest possible CLM
#
# This "one-liner" CLM demonstrates the Identity Function (I).
# It takes an input "HelloWorld" and returns it unchanged.
#
# We enable the IO Monad to observe the "execution" on the console.

version: '1.1'

chapter:
  id: 000
  title: 'Hello World'
  mvp_card: 'The Identity Function'
  pkc_task: 'First Step into Cubical Logic'

clm:
  abstract_spec:
    context: "The simplest possible program."
    goal: "Return the input unchanged while observing the process."
    success_criteria: "Input matches Output."

  concrete_impl:
    runtime: lambda
    process: normalize
    io_effects:
      enabled: true
      console: true
      on_step: true
      format: minimal
    description: |
      Identity Function: Î»x.x
      Applies the function to the input "HelloWorld".
      The IO Monad observes the reduction.

  balanced_exp:
    expectation: "The Identity function returns its argument."
    test_cases:
      - given: "The Identity function applied to HelloWorld"
        when:
          arguments:
            expression: "(\\x.x) HelloWorld"
        then:
          result_contains: "HelloWorld"
      - given: "The Identity function applied to \"Hi to Bali\""
        when:
          arguments:
            expression: "(\\x.x) \"Hi to Bali\""
        then:
          result_contains: "\"Hi to Bali\""

examples:
  - name: "Hello World"
    description: "The classic first program"
    input:
      expression: "(\\x.x) HelloWorld"
    result_contains: "HelloWorld"
